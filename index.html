<!doctype html>
<html lang="en" data-bs-theme="dark">
    <head>
        <!-- META TAGS -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- PUBLIC -->
        <title>The Phantoms</title>

        <!-- RESOURCES -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css" type="text/css">
    </head>
    <body>
        <main id="page" class="w-50 mx-auto text-center">
            <div style="height: 125px;"></div>
            <div class="great-divide-card mb-5">
                <img src="team.png" alt="DARK AND IMPENETRABLE" class="img-fluid mb-3" width="150" height="150">
                <h2 class="mb-0">THE PHANTOMS</h4>
                <p class="text-muted" style="margin-top: -5px;">Always dark and impenetrable.</p>
                <a href="https://polytoria.com/event/the-great-divide" target="_blank" class="btn btn-info btn-sm">join our cause</a>
                <a href="https://polytoria.com/guilds/642" target="_blank" class="btn btn-info btn-sm">our guild</a>
            </div>

            <div>
                <h1>Battle Plans</h1>
                <ul class="list-unstyled">
                    <li class="mb-5">
                        <h2><small class="text-muted" style="font-size: 0.8rem;">II.</small> GET YOUR UNIFORM</h3>
                        <p class="text-muted" style="margin-top: -5px;">purchase your uniform for <span style="color: rgb(0 0 238);">free</span> and get suited up for battle.</p>
                        <div class="d-flex" style="gap: 15px; justify-content: center;">
                            <a href="https://polytoria.com/store/34420" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/nQnf5wXTexD-aLi6SEhkmpO6Hsh2PLgG.png" alt="phantom beret shirt - by MilkCarton" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/store/34421" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/vYsmcjGalCdNWvjZJwYQ3iYRhH6Rvgwp.png" alt="phantom beret pants - by MilkCarton" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/store/36173" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/RLFHU4PjDHwmwZCCFoKMaeqWjeBqtYVC.png" alt="Phantom's Tee - by filebank" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/store/36175" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/whpOnqD9eWqHaAZaJ4qdULj-diTlN3e0.png" alt="Phantom PJ's - by filebank" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/store/36315" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/HjaqNqP0o5nyc6M9OuLq9ZeYCS9v-mpb.png" alt="Phantoms robe (shirt) - by PhantomHemp" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/store/36314" target="_blank">
                                <img src="https://c0.ptacdn.com/thumbnails/assets/xmR8ZfqsOx_HitCx4YKjLDofIY6G70C6.png" alt="Phantoms robe (pants) - by PhantomHemp" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                        </div>
                    </li>
                    <li class="mb-5">
                        <h2><small class="text-muted" style="font-size: 0.8rem;">I.</small> TRAIN FOR BATTLE</h3>
                        <p class="text-muted" style="margin-top: -5px;">train for battle in our hub places.</p>
                        <div class="d-flex" style="gap: 15px; justify-content: center;">
                            <a href="https://polytoria.com/places/9542" target="_blank">
                                <img src="https://c0.ptacdn.com/places/icons/KJ1SuEEkrNI6QurLefeyMtwQNnJvKq3P.png" alt="Phantoms Lost Island - by Deeco" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/places/9572" target="_blank">
                                <img src="https://c0.ptacdn.com/places/icons/r2Kce7PbiOaloZ1QPsh7EhURfd1F4t0z.png" alt="Shrine of Phantasm - by PhantomHemp" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                        </div>
                    </li>
                    <li class="mb-5">
                        <h2><small class="text-muted" style="font-size: 0.8rem;">III.</small> PRESERVING YOUR HONOR</h3>
                        <p class="text-muted" style="margin-top: -5px;">show your honor by promoting our cause.</p>
                    </li>
                    <li class="mb-5">
                        <h2><small class="text-muted" style="font-size: 0.8rem;">IV.</small> SHOW YOUR TRUE POWER</h3>
                        <p class="text-muted" style="margin-top: -5px;">show your true power in the battle field during your first mission in <span id="countdown" style="color: rgb(0 0 238);"></span>.</p>
                        <!--
                        put the actual info here when the event starts
                        <div class="d-flex" style="gap: 15px; justify-content: center;">
                            <a href="https://polytoria.com/places/9542" target="_blank">
                                <img src="https://c0.ptacdn.com/places/icons/KJ1SuEEkrNI6QurLefeyMtwQNnJvKq3P.png" alt="Phantoms Lost Island - by Deeco" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                            <a href="https://polytoria.com/places/9572" target="_blank">
                                <img src="https://c0.ptacdn.com/places/icons/r2Kce7PbiOaloZ1QPsh7EhURfd1F4t0z.png" alt="Shrine of Phantasm - by PhantomHemp" class="great-divide-place img-fluid rounded" width="175" height="175">
                            </a>
                        </div>
                        -->
                    </li>
                </ul>
            </div>
            <hr class="w-50 mx-auto mb-3">
            <div>
                <p class="text-muted mb-0">members who support our cause (and counting)</p>
                <h2 class="mb-0" id="memberCount">loading</h4>
            </div>
            <div style="height: 200px;"></div>
        </main>
        <script>
        /*
            code for timestamp taken from Polytoria's website (https://polytoria.com/event/the-great-divide page specifically)
            slightly modified to not use jquery
            work smarter not harder
        */
    
        document.addEventListener('DOMContentLoaded', function(){
            var targetTimestamp = 1718398800;

            function updateCountdown() {
                var now = new Date().getTime();
                var targetTime = targetTimestamp * 1000;
                var diff = targetTime - now;

                var days = Math.floor(diff / (1000 * 60 * 60 * 24));
                var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((diff % (1000 * 60)) / 1000);

                var countdownStr = "";
                if (days > 0) {
                    if (hours > 0) {
                        countdownStr += days + (days === 1 ? " day, " : " days, ");
                        countdownStr += hours + (hours === 1 ? " hour, and " : " hours, and ");
                        countdownStr += minutes + (minutes === 1 ? " minute" : " minutes");
                    }
                    else {
                        if (minutes > 0) {
                            countdownStr += days + (days === 1 ? " day and " : " days and ");
                            countdownStr += minutes + (minutes === 1 ? " minute" : " minutes");
                        }
                        else {
                            countdownStr += days + (days === 1 ? " day" : " days");
                        }
                    }
                }
                else {
                    if (hours > 0) {
                        countdownStr += hours + (hours === 1 ? " hour, " : " hours, ");
                        countdownStr += minutes + (minutes === 1 ? " minute, and " : " minutes, and ");
                        countdownStr += seconds + (seconds === 1 ? " second" : " seconds");
                    }
                    else {
                        if (minutes > 0) {
                            countdownStr += minutes + (minutes === 1 ? " minute and " : " minutes and ");
                            countdownStr += seconds + (seconds === 1 ? " second" : " seconds");
                        }
                        else {
                            if (seconds > 0) {
                                countdownStr += seconds + (seconds === 1 ? " second" : " seconds");
                            }
                            else {
                                countdownStr = "very soon";
                            }
                        }
                    }
                    
                }

                document.getElementById('countdown').innerText = countdownStr;
            }

            let memberUpdate = 0
            async function updateMemberCount() {
                // I would subtract like 3 users because Polytoria, Jane, and Brixster are in the group but then people would tell me it's incorrect so im going to keep the data incorrect
                memberUpdate++
                const Members = (await (await fetch('https://api.polytoria.com/v1/guilds/641/members?limit=1&page=1')).json()).total
                document.getElementById('memberCount')

                if (memberUpdate === 1){
                    setInterval(() => {
                        updateMemberCount()
                    }, 1500);
                }
            }

            function alignInterval() {
                var now = new Date();
                var msToNextSecond = 1000 - (now.getMilliseconds());

                setTimeout(function() {
                    updateCountdown();
                    setInterval(updateCountdown, 1000);
                }, msToNextSecond);
            }

            alignInterval();
            updateCountdown();
            updateMemberCount();
        })
        </script>
    </body>
</html>